@model IEnumerable<Invoice>
<h1>Invoices</h1>
<a class="btn btn-primary mt-4 mb-4" asp-action="Add">Create New Invoice</a>
<table class="table table-striped">
    <thead>
        <tr>
            <th>Code</th>
            <th>Customer Name</th>
            <th>Product Name</th>
            <th>Product Price</th>
            <th>Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var invoice in Model)
        {
            <tr>
                <td>@invoice.Code</td>
                <td>@invoice.CustomerName</td>
                <td>@invoice.ProductName</td>
                <td>@invoice.Price</td>
                <td>@invoice.DateOfRegistration</td>
                <td>
                    <a href="@Url.Action("Print", "Invoice", new { id = invoice.Id })" target="_blank" class="btn btn-secondary">Print</a>


                </td>
            </tr>
        }
    </tbody>
</table>

@* @section Scripts {
    <script src="https://cdnjs.cloudflare.com/ajax/libs/printThis/1.15.0/printThis.min.js"></script>

    <script>
        function printInvoice(invoiceId) {
            $.ajax({
                url: '/Invoice/GetInvoiceDetails',
                type: "GET",
                data: { id: invoiceId },
                success: function (response) {
                    $("#invoiceCode").text(response.code);
                    $("#customerName").text(response.customerName);
                    $("#creationDate").text(response.creationDate || 'N/A');
                    $("#registrationDate").text(response.registrationDate);
                    $("#productName").text(response.productName);
                    $("#price").text(response.price);

                    $("#printSection").printThis({
                        importCSS: true,
                        importStyle: true,
                        pageTitle: "Invoice Details"
                    });
                },
                error: function () {
                    alert("Error loading invoice details.");
                }
            });
        }
    </script>

} *@


